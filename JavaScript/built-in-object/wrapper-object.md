# 원시값과 래퍼 객체

## 원시값

객체가 아니면서 메서드도 가지지 않는 데이터

- string, number, bigint, boolean, symbol, null, undefined가 해당된다.

## 래퍼 객체

문자열, 숫자, 불리언 값에 대해 객체처럼 접근하면 생성되는 임시 객체

원시값을 객체처럼 사용하면 js 엔진은 암묵적으로 연관된 객체를 생성하여 생성된 객체로 프로퍼티에 접근하거나 메서드를 호출하고 다시 원시값으로 되돌린다.

### 문자열

문자열에 대해 마침표 표기법으로 접근하면 그 순간 래퍼 객체인 String 생성자 함수의 인스턴스가 생성되고 문자열은 래퍼 객체의 [[StringData]] 내부 슬롯에 할당된다.

이때 문자열 래퍼 객체인 String 생성자 함수의 인스턴스는 String.prototype의 메서드를 상속받아 사용할 수 있다.

그 후 래퍼 객체의 처리가 종료되면 래퍼 객체의 [[StringData]] 내부 슬롯에 할당된 원시값으로 원래의 상태, 즉 식별자가 원시값을 갖도록 되돌리고 래퍼 객체는 가비지 컬렉션의 대상이 된다.

```js
const str = "hyeongrok";

// 원시 타입인 문자열이 프로퍼티와 메서드를 갖고 있는 객체처럼 동작한다.
console.log(str.length); // 9
console.log(str.toUpperCase()); // HYEONGROK

// str은 암묵적으로 생성된 래퍼 객체를 가리킨다.
// str의 값 'hyeongrok'은 래퍼 객체의 [[StringData]] 내부 슬롯에 할당된다.
// 래퍼 객체에 name 프로퍼티가 동적 추가된다
str.name = "kim";

// str은 다시 원래의 문자열, 즉 래퍼 객체의 [[StringData]] 내부 슬롯에 할당된 원시값을 갖는다.
// 위에서 생성된 래퍼 객체는 아무도 참조하지 않는 상태로 가비지 컬렉션의 대상이 된다.

// str은 새롭게 암묵적으로 생성된 위와는 다른 래퍼 객체를 가리킨다.
// 새롭게 생성된 래퍼 객체에는 name 프로퍼티가 존재하지 않는다.
console.log(str.name); // undefined

// str은 다시 원래의 문자열, 즉 래퍼 객체의 [[StringData]] 내부 슬롯에 할당된 원시값을 갖는다.
// 위에서 생성된 래퍼 객체는 아무도 참조하지 않는 상태로 가비지 컬렉션의 대상이 된다.
console.log(typeof str, str); // string hyeongrok
```

### 숫자

숫자 값에 대해 마침표 표기법으로 접근하면 그 순간 래퍼 객체인 Number 생성자 함수의 인스턴스가 생성되고 숫자는 래퍼 객체의 [[NumberData]] 내부 슬롯에 할당된다.

이때 래퍼 객체인 Number 객체는 당연히 Number.prototype의 메서드를 상속받아 사용할 수 있다.

그 후, 래퍼 객체의 처리가 종료되면 래퍼 객체의 [[NumberData]] 내부 슬롯에 할당된 원시값을 되돌리고 래퍼 객체는 가비지 컬렉션의 대상이 된다.

```js
const num = 1.5;

// 원시 타입인 숫자가 래퍼 객체인 String 객체로 변환된다.
console.log(num.toFixed()); // 2

// 래퍼 객체로 프로퍼티에 접근하거나 메서드를 호출한 후, 다시 원시값으로 되돌린다.
console.log(typeof num, num); // number 1.5
```

### 불리언

불리언 값도 문자열이나 숫자와 마찬가지이니만 불리언 값으로 메서드를 호출하는 경우는 없으므로 그다지 유용하지는 않다.

### 심벌

ES6에서 새롭게 도입된 원시값인 심벌도 래퍼 객체를 생성한다.

심벌은 일반적인 원시값과는 달리 리터럴 표기법으로 생성할 수 없고 Symbol 함수를 통해 생성해야 하므로 다른 원시값과는 차이가 있다.

## 정리

문자열, 숫자, 불리언, 심벌은 암묵적으로 생성되는 래퍼 객체에 의해 마치 객체처럼 사용할 수 있고, 표준 빌트인 객체인 String, Number, Boolea, Symbol의 프로토타입 메서드 또는 프로퍼티를 참조할 수 있다.

따라서 String, Number, Boolean 생성자 함수를 new 연산자와 함께 호출하여 문자열, 숫자, 불리언 인스턴스를 생성할 필요가 없으며 권장하지도 않는다.

문자열, 숫자, 불리언, 심벌 이외의 원시값, 즉 null과 undefined는 래퍼 객체를 생성하지 않는다.

따라서 null과 undefined 값을 객체처럼 사용하면 에러가 발생한다.
